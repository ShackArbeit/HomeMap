<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/@googlemaps/markerclusterer/dist/index.min.js"></script>
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCpAqja_IdyYYjkHPCp7WonW1ToQBDNNuc&callback=initMap&v=weekly"
      defer
    ></script>  
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="../style.css" />
    
    <title>Cluter Map</title>
</head>
<body>
    <iframe src="../Layout/Header.html" width="100%" height="64px"  frameborder="0"></iframe> 
    <div style="display:flex;flex-direction:row;position:relative; bottom:6px;height:100vh">
        <div style="display:flex;flex-direction:row;position:relative; bottom:1px;height:100vh">
        <div style="width:20vw;height:100vh;text-align:center;display:flex;align-items:center;
                    justify-content: center;color:#fff;background-color: #000000;" >
            <h3 style="color:#fff">
                Cluster 是輸入將多個相近位置的經緯度值以產生，此 Demo 以台北市區為主。
            </h3>
           </div>
          <div id="map" style="height:100vh;width:80vw;"></div>
          </div>
    <div id="map" style="height:100vh;width:80vw;"></div>
    </div>
    <script>
          function initMap() {
                const map = new google.maps.Map(document.getElementById("map"), {
                zoom: 12,
                center: {   lat:25.0676843 ,lng: 121.5280133  },
                });
                const infoWindow = new google.maps.InfoWindow({
                content: "",
                disableAutoPan: true,
                });
            const labels = "ABCDEFGHIJKLMNOPQRSTUVWX";
                const markers = locations.map((position, i) => {
                const label = labels[i % labels.length];
                const marker = new google.maps.Marker({
                    position,
                    label,
                });
            
                marker.addListener("click", () => {
                    infoWindow.setContent(label);
                    infoWindow.open(map, marker);
                });
                return marker;
                });
                const markerCluster = new markerClusterer.MarkerClusterer({ map, markers });
            } 
            const locations = [
                { lat:25.0319888 , lng:121.5015287},
                { lat: 25.029555 , lng: 121.5028687 },
                { lat:  25.030863 , lng: 121.50218078 },
                { lat: 25.02238, lng: 121.49747178 },
                { lat: 25.039939, lng: 121.50559278 },
                { lat: 25.044376, lng: 121.50969678 },
                { lat: 25.032655, lng: 121.49397078 },
                { lat: 25.025822 , lng: 121.49381378 },
                { lat: 25.047375, lng: 121.58861178 },
                { lat: 25.039111, lng: 121.59452778 },
                { lat:25.039478, lng: 121.59618378 },
                { lat: 25.042985, lng: 121.56881778 },
                { lat: 25.042864, lng: 121.57015178 },
                { lat: 25.019483, lng: 121.56194678 },
                { lat: 25.040442, lng: 121.57739878 },
                { lat: 25.016939, lng: 121.57579178 },
                { lat: 25.042323, lng: 121.57697178 },
                { lat: 25.032841, lng: 121.57775178 },
                { lat:25.030797, lng: 121.57767678 },
                { lat: 25.046955, lng: 121.58058578, },
                { lat: 25.04049, lng: 121.57687078 },
                { lat: 25.045898, lng: 121.57562578 },
                { lat: 25.033553, lng: 121.56112678 },
                { lat: 25.033554, lng: 121.56185478 },
            ];
            initMap();
    </script>
   
</body>
</html>